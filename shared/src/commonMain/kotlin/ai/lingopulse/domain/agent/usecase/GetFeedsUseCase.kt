package ai.lingopulse.domain.agent.usecase

import ai.lingopulse.domain.agent.mapper.toFeed
import ai.lingopulse.domain.common.model.Feed
import ai.lingopulse.domain.agent.model.feed.model.FeedResponse
import ai.lingopulse.shared.CATEGORIES
import kotlinx.coroutines.flow.Flow
import kotlinx.coroutines.flow.flow

interface GetFeedsUseCase {
    operator fun invoke(
        categories: List<String> = CATEGORIES.keys.toList()
    ): Flow<List<Feed>>
}

class GetFeedsUseCaseImpl() : GetFeedsUseCase {

    override operator fun invoke(
        categories: List<String>
    ): Flow<List<Feed>> = flow {

        emit(
            listOf(
                FeedResponse(
                    id = "0913cd07839c3b1f517294bba245d9ad5b1d60a98e7f87b45ddf21d246cf97a2",
                    category = "technology",
                    title = "Microsoft confirms auth issues affecting Microsoft 365 users - BleepingComputer",
                    subtitle = "Microsoft is investigating an ongoing incident that is causing users to experience errors with some Microsoft 365 authentication features.",
                    author = "Sergiu Gatlan",
                    imageUrl = "https://www.bleepstatic.com/content/hl-images/2025/05/06/Microsoft-365.jpg",
                    publishedAt = "2025-06-13T12:37:06Z",
                    url = "https://example.com/microsoft-auth-issues",
                    content = "The Thunder have done it, folks. After trailing by seven to start the fourth quarter on the road, they have come all the way back to claim a series-altering Game 4 victory in the NBA Finals. The series is now tied at 2-2, and Oklahoma City has regained home-court advantage. The Thunder have lost only twice at home all postseason, so the odds have shifted significantly back in their favor as both teams seek their first championship.\\n\\nThe game was defined by the performance of MVP Shai Gilgeous-Alexander. Andrew Nembhard made his life miserable all night, but in the fourth quarter, he delivered with clutch bucket after clutch bucket. The Thunder couldn't buy a 3-pointer all night. Their offense stagnated, barely generating any assists. But when it counted, the MVP delivered, and the Thunder have now regained control of the series.\\n\\nFor the Pacers, this one is going to sting. Only one team has ever overcome a 3-1 Finals deficit, and they came so close to securing such a lead in this series. Instead, they blow a double-digit second-half lead. After starting hot from deep themselves, they went just as cold as the Thunder did. Tyrese Haliburton scored several huge buckets of his own, but he just didn't get quite enough help from his teammates offensively in the final frame. It's a best-of-three series the rest of the way. May the best team win."
                ),
                FeedResponse(
                    id = "1bed33c3fe23e1b1f308f5bcb42d1a4cc3a174fc3dc5241b352c090ef2f3f71b",
                    category = "technology",
                    title = "Meta AI searches made public - but do all its users realise? - BBC",
                    subtitle = "Imran Rahman-Jones\r\nHow would you feel if your internet search history was put online for others to see?\r\nThat may be happening to some users of Meta AI without them realising, as people's prompts to…",
                    author = "",
                    imageUrl = "https://ichef.bbci.co.uk/news/1024/branded_news/2cad/live/513724b0-484f-11f0-bfce-4fdf1dd09cc7.jpg",
                    publishedAt = "2025-06-13T12:01:50Z",
                    url = "https://example.com/meta-ai-searches-public",
                    content = "The Karoo stretches across more than 150,000 square miles of semi-arid South Africa, a place where sun-bleached soil keeps secrets older than dinosaurs. Wander its stony flats and you\\u2019ll see ridges of exposed rock that look like the pages of a giant book.\\n\\nThe \\u201cchapters\\u201d span hundreds of millions of years, each one packed with fossilized bone and impressions of vanished forests. For anyone fascinated by life\\u2019s backstory, the Karoo is irresistible.\\n\\nLong before geology students arrived with measuring tapes and plaster, Indigenous families lived among those same outcrops.\\n\\nThe San, sometimes called the /Xam, camped at waterholes, painted hunting scenes on sandstone walls, and passed down tales of shape-shifting serpents that brewed thunderstorms.\\n\\nTheir art survives in shallow caves and overhangs, capturing the everyday and the uncanny with equal care.\\n\\nThe Karoo\\u2019s fossil fame rests on creatures named dicynodonts \\u2013 chunky plant-eaters about the size of pigs, sporting a beak and two downward-pointing tusks.\\n\\nThey ruled the Permian Period more than 250 million years ago, well before thefirst dinosaur hatched.\\n\\nBecause the region is dry and wind-scoured, dicynodont skulls often erode straight out of hillsides; a passerby can spot the ivory-colored bone from yards away.\\n\\nIt\\u2019s not hard to imagine early herders stumbling upon those skulls and weaving them into local lore.\\n\\nThe Sanalso left thousands of charcoal and ochre paintings. Some show antelope and giraffes, others depict trance dances where healers slip into the spirit world.\\n\\nAmong the most intriguing images appears on a wall known as the Horned Serpent panel, created between 1821 and 1835.\\n\\nOne painted figure stretches like a slendercrocodilebut displays a pair of tusks that bend toward the ground \\u2013 no living African animal matches that appearance.\\n\\nWhen researchers first cataloged the panel, they guessed the creature might be a rain-making spirit. That interpretation fit San cosmology, where serpents often control clouds.\\n\\nYet even a mythic animal usually borrows details from reality: hoof shapes, horn curls, or in this case, tusks. The puzzle lingered for decades.\\n\\nA fresh investigation recently took a different angle.\\n\\nAfter carefully comparing the painted outline with dozens of Karoo fossils, a paleontologist noticed striking overlap \\u2013 head shape, tusk angle, and body proportions mirrored those of a typicaldicynodont skeleton.\\n\\nThe artist seems to have sketched what looks like a fossil skull still embedded in rock, then fused it with a serpent\\u2019s sinuous torso.\\n\\nThe idea gains strength from archaeology. Dig sites near San shelters have yielded chipped stone tools alongside fossil fragments carried from distant outcrops.\\n\\nThat means people collected ancient bones, perhaps as curios or ritual objects.\\n\\nOral traditions recorded in the late 1800s even speak of colossal beasts that once walked the land before \\u201cthe ground dried and cracked.\\u201d Those tales echo the fossil record\\u2019s story of extinction during the end-Permian mass die-off.\\n\\nIf the cave art painting really captures a dicynodont, it predates formal paleontology. Western science first named a species in 1845, yet the Horned Serpent panel was finished no later than 1835.\\n\\n\\u201cThe painting was made in 1835 at the latest, which means this dicynodont was depicted at least ten years before the western scientific discovery and naming of the first dicynodont by Richard Owen in 1845,\\u201d noted Julien Benoit of theUniversity of the Witwatersrand, author of this study.\\n\\n\\u201cThis work supports [the fact] that the first inhabitants of southern Africa, the San hunter-gatherers, discovered fossils, interpreted them and integrated them in their rock art and belief system.\\u201d\\n\\nBenoit and colleagues photographed the panel under varying light, traced outlines digitally, and matched them with museum specimens.\\n\\nThe correlation, they argue, is too tight to be chance. Their work joins a handful of cases worldwide \\u2013 China, Australia, North America \\u2013 where Indigenous art may double as the earliest depiction of extinct animals.\\n\\nThe research also nudges scientists to widen their lens. Fossil discovery stories often center on explorers in pith helmets, but communities living alongside outcrops have noticed, collected, and wondered about old bones for millennia.\\n\\nRecognizing that legacy broadens the history of paleontology and honors knowledge systems that predate universities.\\n\\nBeyond scholarly credit, the find invites fresh partnerships. Rock art sites need protection from erosion, vandalism, and mining.\\n\\nBy linking paintings to fossils, heritage managers can argue for preserving whole landscapes rather than isolated walls. That approach safeguards bothcultural memoryand the deep-time record locked in nearby strata.\\n\\nThe study also sparks questions for educators. Imagine guiding school groups to a shelter where a dicynodont skull rests at the foot of a painted serpent.\\n\\nStudents could trace a line from 250-million-year-old mud to a 19th-century brushstroke, then to modern CT scans revealing bone microstructure.\\n\\nSuch encounters make earth science tangible and show that curiosity about ancient life is a shared human trait, not an imported discipline.\\n\\nEvidence that the San looked at fossils and painted what they saw does more than solve an art mystery. It stitches together culture, geology, and memory across staggering spans of time.\\n\\nIn the Karoo, one can touch Triassic bone, read a 19th-century pigment trail, and hear present-day scholars debating both. Each element enriches the others.\\n\\nThe Horned Serpent panel stands as a quiet reminder that the urge to understand our planet\\u2019s past didn\\u2019t begin in lecture halls \\u2013 it began wherever someone knelt beside a curious rock and started to wonder.\\n\\nThe full study was published in the journalPLOS One.\\n\\n\\u2014\\u2013\\n\\nLike what you read?Subscribe to our newsletterfor engaging articles, exclusive content, and the latest updates.\\n\\nCheck us out onEarthSnap, a free app brought to you byEric Rallsand Earth.com.\\n\\n\\u2014\\u2013"
                ),
                FeedResponse(
                    id = "fa7862a66c5aab06ceb8c2460824b5488437405bc932469cddbfd6d2379a71a9",
                    category = "technology",
                    title = "Sony remains committed to \"diverse and resilient\" live service games, including forthcoming Marathon and Fairgames, despite high profile failures - Eurogamer",
                    subtitle = "During an annual Sony business presentation, CEO Hermen Hulst stated the company remains committed to building \"a diverse and resilient\" portfolio of live service games, which includes the unreleased…",
                    author = "Connor Makar",
                    imageUrl = "https://assetsio.gnwcdn.com/Untitled-1_DjOYONN.jpg?width=1200&height=630&fit=crop&enable=upscale&auto=webp",
                    publishedAt = "2025-06-13T11:50:59Z",
                    url = "https://example.com/sony-live-service-games",
                    content = "Download it today\\n\\nCapcom releasedMarvel vs. Capcom Fighting Collectionon the Switch last September and since then it's rolled out multiple updates.\\n\\nThe latest patch has now arrived and it comes with a bunch of bug fixes specifically forClash of Super HeroesandMvC2:New Age of Heroes. Here's the full details, courtesy of the official patch notes:\\n\\nAn update has been released on the following date for MARVEL vs. CAPCOM Fighting Collection: Arcade Classics.\\n\\nBug FixesMarvel vs. Capcom: Clash of Super Heroes- Fixed characters not rendering properly and button inputs being dropped when a Duo Team Attack is activated.Marvel vs. Capcom 2: New Age of Heroes- Fixed characters not rendering properly when the internal resolution option is set to x2 on Nintendo Switch.- Fixed unintended behavior occurring after performing certain actions on the stage Abyss' Temple while the stage is transitioning.Following this fix, this stage has been set to appear first in player matches.\\n\\nThank you for your continued support of MARVEL vs. CAPCOM Fighting Collection: Arcade Classics.\\n\\nYou can learn more about this retro collection in our review here on Nintendo Life. Capcom also releasedStreet Fighter 6on the Switch 2 last week, and in May launchedCapcom Fighting Collection 2.\\n\\nWanna take you for a ride\\n\\nA Dream(cast) collection\\n\\nConcrete schoolyard\\n\\nAre you still enjoying this collection months later?Let us know in the comments.\\n\\n[sourcecapcom-games.com]\\n\\nAboutLiam Doolan\\n\\nLiam is a news writer and reviewer across Hookshot Media. He's been writing about games for more than 15 years and is a lifelong fan of many iconic video game characters.\\n\\nComments11\\n\\nDoes this fix it for Switch 2? Because it's still listed as \\\"incompatible.\\\" Not that I'm playing it. Asking for a friend.\\n\\n@AussieMcBucketIt seems to but the classification on the eshop hasn\\u2019t been updated yet.\\n\\n@AussieMcBucketI just played a game of MvC2 on Switch 2 - seems to be working!\\n\\nHopefully if there actually still are any issues on Switch 2 they'll be fixed sooner rather than later (glad to hear that it seems to be working as is anyway) - looking forward to playing it myself when I can!\\n\\nI\\u2019ve played Punisher on Switch 2 and it played fine\\n\\nI was surprised to see those rendering issues quite frequently, glad to hear they're patched\\n\\nThey need to adjust the randomness of MVC2, the first opponents are always Venom, Cammy and Charlie\\n\\nDoes anyone know if Capcom Fighting Collection 1 got updated to include offline vs?\\n\\n@Liam_DoolanWere you able to play any online matches? When I first tried MvC on Switch 2 it said it couldn't establish a connection with the server to play\\n\\n@OwenGamer22Not yet but it may come soon.\\n\\n@Fighting_Game_LoserI only tried out the offline mode initially, but now that I've tested the online mode I'm stuck \\\"looking for an opponent\\\". I also tried to get online with Capcom Fighting Collection 2 and got the same result. Offline modes seem to be working.\\n\\nShow Comments\\n\\nLeave A Comment\\n\\nHold on there, you need tologinto post a comment...\\n\\nZelda: Tears Of The Kingdom And Breath Of The Wild Updates Now Live, Here Are The Full Patch Notes\\n\\nDownload both updates today\\n\\nClassic Atari 2600 Title 'Adventure' Is Being Revived As A Metroidvania\\n\\nLaunching later this year\\n\\nPSA: Splatoon 3 On Switch Has Made Some Cuts To Keep Pace With Switch 2\\n\\nA proper scenery chewer\\n\\nNew Fantasy Life i Update Lands On Switch 1 & 2, Here Are The Full Patch Notes\\n\\nImproved visuals on the new console\\n\\nUK Charts: Nintendo Switch 2 Annihilates The Competition In Its Debut Week\\n\\nMario Kart World grabs the gold\\n\\nGame Profile\\n\\nTitle:\\n\\nMarvel vs. Capcom Fighting Collection: Arcade Classics\\n\\nSystem:\\n\\nNintendo Switch\\n\\nAlso Available For:\\n\\nXbox One,PS4\\n\\nPublisher:\\n\\nCapcom\\n\\nDeveloper:\\n\\nCapcom\\n\\nGenre:\\n\\nArcade, Fighting\\n\\nPlayers:\\n\\n2 (9 Online)\\n\\nRelease Date:\\n\\nSwitch eShop\\n\\nNintendo Switch\\n\\nSeries:\\n\\nMarvel\\n\\nReviews:\\n\\nReview: Marvel vs. Capcom Fighting Collection: Arcade Classics (Switch) - A Stunning Showcase Of '90s Fighter Evolution\\n\\nOfficial Site:\\n\\nnintendo.com\\n\\nWhere to buy:\\n\\nBuyeShop Credit:\\n\\n42\\n\\nPollBox Art Brawl: Marvel Vs. Capcom 2: New Age Of Heroes (Dreamcast)\\n\\n33\\n\\nNewsMarvel vs. Capcom Fighting Collection Scores A New Switch Update\\n\\n32\\n\\nRound UpEverything From Japan's Nintendo Direct Broadcast (March 2025)\\n\\n32\\n\\nNewsEVO 2025's Main Lineup And Extended Roster Has Been Locked In\\n\\n53\\n\\nNewsSurprise! Capcom's First Showcase Of 2025 Is Airing Next Week\\n\\nGuideMario Kart World: All Costume Unlocks & Complete Outfit List\\n\\nGuideMario Kart World Guide - All Courses, Cups, Missions, Collectibles, Tips...\\n\\nGuidePok\\u00e9mon Scarlet & Violet: Mystery Gift Codes List\\n\\nFeature11 Games With 'Secret' Performance Bumps You Should Revisit On Switch 2\\n\\nReviewThe Legend Of Zelda: Tears Of The Kingdom - Nintendo Switch 2 Edition - ...\\n\\nGuideBest Nintendo Switch 2 Cases To Carry And Protect Your Console\\n\\nGuideMario Kart World: How To Avoid Blue Shells\\n\\nGuideMario Kart World: All Vehicles - What's The Best Kart?\\n\\nNewsZelda: Tears Of The Kingdom And Breath Of The Wild Updates Now Live, Her...\\n\\nGuideMario Kart World: How To Unlock Mirror Mode"
                ),
                FeedResponse(
                    id = "705f5d7a3e0e501b23ab19ab58b5ce5c84ef6887283d43e2c05d1f552b1400cf",
                    category = "technology",
                    title = "Google is shutting down Android Instant Apps over ‘low’ usage - The Verge",
                    subtitle = "The installation-free apps will join the Google graveyard in December.",
                    author = "Dominic Preston",
                    imageUrl = "https://platform.theverge.com/wp-content/uploads/sites/2/chorus/uploads/chorus_asset/file/24007893/acastro_STK112_android_02.jpg?quality=90&strip=all&crop=0%2C10.732984293194%2C100%2C78.534031413613&w=1200",
                    publishedAt = "2025-06-13T11:47:23Z",
                    url = "https://example.com/google-shuts-android-instant-apps",
                    content = "Full content could not be extracted via scraping."
                ),
                FeedResponse(
                    id = "3374861ee3bb5fd25f65bdc8a03fc7feaa2d4d55a3baadc1bd228ab2f794d6e7",
                    category = "technology",
                    title = "How to draft a will to avoid becoming an AI ghost—it’s not easy - Ars Technica",
                    subtitle = "Why requests for “no AI resurrections” will probably go ignored.",
                    author = "Ashley Belanger",
                    imageUrl = "https://cdn.arstechnica.net/wp-content/uploads/2025/06/ghost-trappin-openai-1152x648.jpg",
                    publishedAt = "2025-06-13T11:00:56Z",
                    url = "https://arstechnica.com/tech-policy/2025/06/how-to-draft-a-will-to-avoid-becoming-an-ai-ghost/",
                    content = "Full content could not be extracted via scraping."
                )
            ).toFeed()
        )
    }
}